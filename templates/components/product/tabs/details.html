<section
  class="product-tabs-section product-tabs-details"
  id="details"
  data-tab-content
>
  <h1 class="product-details-title">{{lang 'product.tabs.details.title'}}</h1>

  <div class="product-tab-details-item product-tab-details-stock {{#unless product.stock_level}}product-tab-details-hidden{{/unless}}" data-product-stock>
    <span class="product-tab-details-item-name">{{lang 'product.tabs.details.current_stock'}}</span>
    <span class="product-tab-details-item-value" data-product-stock-level>{{product.stock_level}}</span>
  </div>

  {{#if theme_settings.product-extra-details-view '===' 'details'}}
    {{#if product.sku}}
      <div class="product-tab-details-item product-tab-details-sku">
        <span class="product-tab-details-item-name">{{lang 'product.tabs.details.sku'}}</span>
        <span class="product-tab-details-item-value" data-product-sku>{{product.sku}}</span>
      </div>
    {{/if}}
    {{#if product.upc}}
      <div class="product-tab-details-item product-tab-details-upc">
        <span class="product-tab-details-item-name">{{lang 'product.tabs.details.upc'}}</span>
        <span class="product-tab-details-item-value" data-product-upc>{{product.upc}}</span>
      </div>
    {{/if}}
    {{#if product.gtin}}
      <div class="product-tab-details-item product-tab-details-gtin">
        <span class="product-tab-details-item-name">{{lang 'product.tabs.details.gtin'}}</span>
        <span class="product-tab-details-item-value" data-product-sku>{{product.gtin}}</span>
      </div>
      {{/if}}
      {{#if product.mpn}}
      <div class="product-tab-details-item product-tab-details-mpn">
        <span class="product-tab-details-item-name">{{lang 'product.tabs.details.mpn'}}</span>
        <span class="product-tab-details-item-value" data-product-upc>{{product.mpn}}</span>
      </div>
    {{/if}}
  {{/if}}
  {{#if product.condition}}
    <div class="product-tab-details-item product-tab-details-condition">
      <span class="product-tab-details-item-name">{{lang 'product.tabs.details.condition'}}</span>
      <span class="product-tab-details-item-value">{{product.condition}}</span>
    </div>
  {{/if}}
  {{#if product.availability}}
    <div class="product-tab-details-item product-tab-details-availability">
      <span class="product-tab-details-item-name">{{lang 'product.tabs.details.availability'}}</span>
      <span class="product-tab-details-item-value">{{product.availability}}</span>
    </div>
  {{/if}}
  {{#if product.weight}}
    <div class="product-tab-details-item product-tab-details-weight">
      <span class="product-tab-details-item-name">{{lang 'product.tabs.details.weight'}}</span>
      <span class="product-tab-details-item-value" data-product-weight>{{product.weight}}</span>
    </div>
  {{/if}}
  {{#if product.width}}
    <div class="product-tab-details-item product-tab-details-width">
      <span class="product-tab-details-item-name">{{lang 'product.tabs.details.width'}}</span>
      <span class="product-tab-details-item-value">{{product.width}}</span>
    </div>
  {{/if}}
  {{#if product.height}}
    <div class="product-tab-details-item product-tab-details-height">
      <span class="product-tab-details-item-name">{{lang 'product.tabs.details.height'}}</span>
      <span class="product-tab-details-item-value">{{product.height}}</span>
    </div>
  {{/if}}
  {{#if product.depth}}
    <div class="product-tab-details-item product-tab-details-depth">
      <span class="product-tab-details-item-name">{{lang 'product.tabs.details.depth'}}</span>
      <span class="product-tab-details-item-value">{{product.depth}}</span>
    </div>
  {{/if}}
  {{#if product.min_purchase_quantity}}
    <div class="product-tab-details-item">
      <span class="product-tab-details-item-name">{{lang 'product.tabs.details.min_purchase_quantity'}}</span>
      <span class="product-tab-details-item-value">{{lang 'product.tabs.details.purchase_units' quantity=product.min_purchase_quantity}}</span>
    </div>
  {{/if}}
  {{#if product.max_purchase_quantity}}
    <div class="product-tab-details-item">
      <span class="product-tab-details-item-name">{{lang 'product.tabs.details.max_purchase_quantity'}}</span>
      <span class="product-tab-details-item-value">{{lang 'product.tabs.details.purchase_units' quantity=product.max_purchase_quantity}}</span>
    </div>
  {{/if}}
  {{#if product.gift_wrapping_available}}
    <div class="product-tab-details-item">
      <span class="product-tab-details-item-name">{{lang 'product.tabs.details.gift_wrapping'}}</span>
      <span class="product-tab-details-item-value">{{lang 'product.tabs.details.gift_wrapping_available'}}</span>
    </div>
  {{/if}}
  {{#if product.shipping}}
    {{#if product.shipping.calculated}}
      <div class="product-tab-details-item">
        <span class="product-tab-details-item-name">{{lang 'product.tabs.details.shipping'}}</span>
        <span class="product-tab-details-item-value">{{lang 'product.tabs.details.shipping_calculated'}}</span>
      </div>
    {{else}}
      {{#if product.shipping.price.value '===' 0}}
        <div class="product-tab-details-item">
          <span class="product-tab-details-item-name">{{lang 'product.tabs.details.shipping'}}</span>
          <span class="product-tab-details-item-value">{{lang 'product.tabs.details.shipping_free'}}</span>
        </div>
      {{else}}
        <div class="product-tab-details-item">
          <span class="product-tab-details-item-name">{{lang 'product.tabs.details.shipping'}}</span>
          <span class="product-tab-details-item-value">{{lang 'product.tabs.details.shipping_fixed' amount=product.shipping.price.formatted}}</span>
        </div>
      {{/if}}
    {{/if}}
  {{/if}}
  {{#if product.bulk_discount_rates.length}}
    <div class="product-tab-details-item">
      <span class="product-tab-details-item-name">{{lang 'product.tabs.details.bulk_pricing.title'}}</span>
      <span class="product-tab-details-item-value">
        <a href="#" data-bulk-pricing-button>
          {{lang 'product.tabs.details.bulk_pricing.view'}}
        </a>
      </span>
    </div>

    <div id="bulk-pricing-modal">
      <div class="modal-header">
        <h2 class="modal-header-title">{{lang 'product.tabs.details.bulk_pricing.modal_title'}}</h2>
        <button class="modal-close" data-review-modal-close>
          <svg class="bulk-pricing-close-icon" title="Close bulk pricing modal" role="img">
            <use xlink:href="#icon-close"></use>
          </svg>
        </button>

      </div>
      <div class="modal-body">
        <p>{{lang 'product.tabs.details.bulk_pricing.instructions'}}</p>
        <ul>
          {{#each product.bulk_discount_rates}}
            <li>
              {{lang 'product.tabs.details.bulk_pricing.range' min=min max=max}}
              {{#if type '===' 'percent'}}
                {{lang 'product.tabs.details.bulk_pricing.percent' discount=discount.formatted}}
              {{/if}}
              {{#if type '===' 'fixed'}}
                {{lang 'product.tabs.details.bulk_pricing.fixed' discount=discount.formatted}}
              {{/if}}
              {{#if type '===' 'price'}}
                {{lang 'product.tabs.details.bulk_pricing.price' discount=discount.formatted}}
              {{/if}}
            </li>
          {{/each}}
        </ul>
      </div>
    </div>
  {{/if}}

  {{#each product.custom_fields}}
    <div class="product-tab-details-item product-tab-details-item-custom">
      <span class="product-tab-details-item-name">{{name}}:</span>
      <span class="product-tab-details-item-value">{{{value}}}</span>
    </div>
  {{/each}}
</section>
